<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Three JS</title>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"></script>
    <script type="text/javascript" src="js/libs/three.min.js"></script>
    <script type="text/javascript" src="js/libs/stats.js"></script>
    <script type="text/javascript" src="js/libs/cannon.js"></script>
    <script type="text/javascript" src="js/libs/utils/SceneUtils.js"></script>
    <script type="text/javascript" src="js/libs/utils/d3-threeD.js"></script>
    <script type="text/javascript" src="js/libs/GameObject.js"></script>
    <script type="text/javascript" src="js/libs/GameBehavior.js"></script>

    <script type="text/javascript" src="js/libs/loader/GLTFLoader.js"></script>
    <script type="text/javascript" src="js/libs/loader/DDSLoader.js"></script>
    <script type="text/javascript" src="js/libs/loader/DRACOLoader.js"></script>
    <script type="text/javascript" src="js/libs/loader/RGBELoader.js"></script>
    <script type="text/javascript" src="js/libs/loader/EquirectangularToCubeGenerator.js"></script>

    <script type="text/javascript" src="js/gameObject/Cube.js"></script>
    <script type="text/javascript" src="js/gameObject/Obstacle.js"></script>
    <script type="text/javascript" src="js/gameObject/Player.js"></script>
    <script type="text/javascript" src="js/gameObject/testObj.js"></script>

    <script type="text/javascript" src="js/scripts/ObstacleSpawner.js"></script>

    <script type="text/javascript" src="js/gameObject/MyScene.js"></script>


    <link rel="stylesheet" href="css/demo.css">
</head>

<body>
    <!-- <iframe src="assets/audios/videoplayback.mp3" allow="autoplay" id="audio" style="display:none"></iframe> -->

    <!-- <audio autoplay loop>
        <source src="assets/audios/videoplayback.mp3" type="audio/mpeg">
        <source src="assets/audios/videoplayback.ogg" type="audio/ogg">
        Your browser does not support the audio element.
    </audio> -->

    

    <div class="contents" style="width:100%; height:100%;">
        <div id="opening">
            <p>
                Ini Game Title
            </p>
        </div>

        <div id="gameScreen" style="width: 100%; height: 100%; display: none;">
            <div id="gameState" style="width: 0%; height: 0%;">0</div>

            <div id="Stats-output" style="right: 100px; position: absolute;"></div>

            <div style="overflow: hidden; position: absolute; left: 46%;">
                <div style="float: left; padding: 5px; font-size: xx-large;">Score : </div>
                <div id="score" style="float: left; padding: 5px; font-size: xx-large;">0</div>
            </div>

            <canvas id="myCanvas" style="width: 100%; height: 100%;"></canvas>
            <script type="text/javascript" src="main.js"></script>
        </div>

        <div id="credits" style="display: none;">
            <p>
                Habib tampan was here
            </p>
        </div>

        <div id="howToPlay" style="display: none;">
            <p>
                <ol>
                    <li>Minta app ke habib</li>
                    <li>Install terus buka</li>
                    <li>Coba-coba swipe sendiri dah sana</li>
                </ol>
            </p>
        </div>
    </div>

    <div class="meny">
        <h2>Main Menu</h2>
        <ul>
            <li><button onclick="Play()">Play</button></li>
            <li><button onclick="HowToPlay()">How To Play</button></li>
            <li><button onclick="Credit()">Credits</button></li>
            <li><a href="#">Exit</a></li>
            <br>
            <br>
            <br>
            <br>
            <div style="overflow: hidden;">
                <div style="float: left; padding: 5px;">High Score : </div>
                <div id="highScore" style="float: left; padding: 5px;">0</div>
            </div>
        </ul>
    </div>

    <div class="meny-arrow"></div>

    <script>
        function Play(){
            document.getElementById("opening").style.display = "none";
            document.getElementById("howToPlay").style.display = "none";
            document.getElementById("credits").style.display = "none";
            document.getElementById("gameScreen").style.display = "block";
            var check = parseInt(state.innerHTML);
            if(check == 0){
                Init();
            }
            else{
                if(scene.CheckGameOver() == true)
                    Restart();
            }
        }

        function Credit(){
            document.getElementById("opening").style.display = "none";
            document.getElementById("howToPlay").style.display = "none";
            document.getElementById("credits").style.display = "block";
            document.getElementById("gameScreen").style.display = "none";
        }

        function HowToPlay(){
            document.getElementById("opening").style.display = "none";
            document.getElementById("howToPlay").style.display = "block";
            document.getElementById("credits").style.display = "none";
            document.getElementById("gameScreen").style.display = "none";
        }
    </script>

    <script src="js/meny.js"></script>
    <script>
        // Create an instance of Meny
        var meny = Meny.create({
            // The element that will be animated in from off screen
            menuElement: document.querySelector('.meny'),

            // The contents that gets pushed aside while Meny is active
            contentsElement: document.querySelector('.contents'),

            // [optional] The alignment of the menu (top/right/bottom/left)
            position: Meny.getQuery().p || 'left',

            // [optional] The height of the menu (when using top/bottom position)
            height: 200,

            // [optional] The width of the menu (when using left/right position)
            width: 260,

            // [optional] Distance from mouse (in pixels) when menu should open
            threshold: 40,

            // [optional] Use mouse movement to automatically open/close
            mouse: true,

            // [optional] Use touch swipe events to open/close
            touch: true
        });

        // API Methods:
        // meny.open();
        // meny.close();
        // meny.isOpen();

        // Events:
        // meny.addEventListener( 'open', function(){ console.log( 'open' ); } );
        // meny.addEventListener( 'close', function(){ console.log( 'close' ); } );

        // Embed an iframe if a URL is passed in
        if (Meny.getQuery().u && Meny.getQuery().u.match(/^http/gi)) {
            var contents = document.querySelector('.contents');
            contents.style.padding = '0px';
            contents.innerHTML = '<div class="cover"></div><iframe src="' + Meny.getQuery().u + '" style="width: 100%; height: 100%; border: 0; position: absolute;"></iframe>';
        }
    </script>
</body>

</html>